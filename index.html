<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <link href="style19.css" rel="stylesheet">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script>
        const symbols = ['üçí', 'üçã', 'üçä', 'üçá', 'üçé', 'üçê', 'üçâ'];
        let totalWins = 0;
        let spinCount = 0;
        const maxSpins = 3;
        let balance=10000;
        let bet=100;

        function animateSlot(slotId, duration, callback) {
            const slotElement = document.getElementById(slotId);
            let animationInterval = setInterval(() => {
                slotElement.innerText = symbols[Math.floor(Math.random() * symbols.length)];
            }, 150); 

            
            setTimeout(() => {
                clearInterval(animationInterval);
                const finalSymbol = symbols[Math.floor(Math.random() * symbols.length)];
                slotElement.innerText = finalSymbol;
                callback(finalSymbol); 
            }, duration);
        }

        function Spin() {
            if (spinCount >= maxSpins) {
                document.getElementById("result").innerText = "–ì—Ä–∞ –∑–∞–∫—ñ–Ω—á–µ–Ω–∞! –í–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–ª–∏ 3 —Å–ø—ñ–Ω–∏.";
                return;
            }
            if(balance<bet)
            {
                document.getElementById("result").innerText = "–£ –≤–∞—Å –Ω–µ–¥–æ—Å—Ç–∞—Ç–Ω—å–æ –≥—Ä–æ—à–µ–π";
                return;
            }
            balance-=bet;
            document.getElementById("balance").innerText = "–ë–∞–ª–∞–Ω—Å: " + balance;
            document.getElementById
            document.getElementById("result").innerText = ""; 
            spinCount++;
            document.getElementById("spinCount").innerText = "–ö—ñ–ª—å–∫—ñ—Å—Ç—å —Å–ø—ñ–Ω—ñ–≤: " + spinCount + " / " + maxSpins;

            let results = [];
            animateSlot("slot1", 1000, (symbol) => {
                results[0] = symbol;
                checkResults(results);
            });
            animateSlot("slot2", 1400, (symbol) => {
                results[1] = symbol;
                checkResults(results);
            });
            animateSlot("slot3", 1800, (symbol) => {
                results[2] = symbol;
                checkResults(results);
            });
        }
        function checkResults(results) {
            if (results.length === 3) {
                if (results[0] === results[1] && results[1] === results[2]) {
                    document.getElementById("result").innerText = "–í–∏ –≤–∏–≥—Ä–∞–ª–∏ üí∞üí∞";
                    totalWins++;
                    document.getElementById("totalWins").innerText = "–í–∏–≥—Ä–∞—à—ñ–≤: " + totalWins;
                    balance+=1000;
                } else {
                    document.getElementById("result").innerHTML = "<strong> –í–∏ –ø—Ä–æ–≥—Ä–∞–ª–∏";
                }

                if (spinCount === maxSpins) {
                    document.getElementById("result").innerHTML += " <strong> –ì—Ä–∞ –∑–∞–∫—ñ–Ω—á–µ–Ω–∞!";
                }
            }
        }

        function ResetGame() {
            spinCount = 0;
            document.getElementById("slot1").innerText = "‚ùì";
            document.getElementById("slot2").innerText = "‚ùì";
            document.getElementById("slot3").innerText = "‚ùì";
            document.getElementById("result").innerText = "";
            document.getElementById("totalWins").innerText = "–í–∏–≥—Ä–∞—à—ñ–≤: " + totalWins;
            document.getElementById("spinCount").innerText = "–ö—ñ–ª—å–∫—ñ—Å—Ç—å —Å–ø—ñ–Ω—ñ–≤: " + spinCount + " / " + maxSpins;
        }
        function EditNames() 
        {
            let playerName1 = prompt("–í–≤–µ–¥—ñ—Ç—å –Ω–æ–≤–µ —ñ–º'—è –¥–ª—è –ø–µ—Ä—à–æ–≥–æ –≥—Ä–∞–≤—Ü—è", "–ì—Ä–∞–≤–µ—Ü—å 1");
            if (playerName1) document.getElementById("playerName1").innerText = playerName1;
           
        }
        document.addEventListener("DOMContentLoaded", function() {
            document.getElementById("spinButton").addEventListener("click", Spin);
            document.getElementById("resetButton").addEventListener("click", ResetGame);
        });
    </script>
</head>
<body>
    <div class="main-container">
        <h1>–û–¥–Ω–æ—Ä—É–∫–∏–π –±–∞–Ω–¥–∏—Ç</h1>
        <h1 id="playerName1">–ì—Ä–∞–≤–µ—Ü—å 1</h1>
        <div class="machine">
            <div class="slot" id="slot1">‚ùì</div>
            <div class="slot" id="slot2">‚ùì</div>
            <div class="slot" id="slot3">‚ùì</div>
        </div>
        <div id="result"></div>
        <h3 id="totalWins">–í–∏–≥—Ä–∞—à—ñ–≤: 0</h3>
        <h3 id="balance">–ë–∞–ª–∞–Ω—Å: 0$</h3>
        <h3 id="spinCount">–ö—ñ–ª—å–∫—ñ—Å—Ç—å —Å–ø—ñ–Ω—ñ–≤: 0 / 3</h3>
        <button id="spinButton" class="button">–ü—Ä–æ–∫—Ä—É—Ç–∏—Ç–∏</button>
        <button id="resetButton" class="button">–ü–æ—á–∞—Ç–∏ –∑–∞–Ω–æ–≤–æ</button>
        <button class="button" onclick="EditNames()">–ó–º—ñ–Ω–∏—Ç–∏ —ñ–º–µ–Ω–∞</button>
    </div>
</body>
</html>